"use strict";(self.webpackChunkpotato_peeler=self.webpackChunkpotato_peeler||[]).push([[678],{6558:function(e,t,n){n.r(t),n.d(t,{Head:function(){return a}});var l=n(7294);t.default=()=>{const e=(0,l.useRef)(null),{0:t,1:n}=(0,l.useState)("0000");return(0,l.useEffect)((()=>{let t,l=1e4,a=500;const r=e.current.querySelector(".score img"),c=e.current.querySelectorAll(".peelers div");console.log(c[0]);const s=e.current.querySelector(".peelers").offsetTop,m=e.current.querySelector(".peelers").clientHeight;function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function o(t){const n=document.createElement("div");n.dataset.elapsedTime=t.toString(),n.className="potatoRow",n.style.bottom=window.innerHeight+"px";const l=Math.random()<.5?1:2,r=[1,2,3];for(let e=0;e<l&&a>0;e++){const e=Math.floor(Math.random()*r.length),t=document.createElement("img");t.src="https://devlak2001.s3.eu-central-1.amazonaws.com/potatoPeeler/potato.png",t.style.gridColumn=""+r[e],t.dataset.peelable="false",t.dataset.column=""+r[e],t.ontouchstart=u,n.append(t),a--,r.splice(e,1)}e.current.append(n)}function u(t){const l=t.currentTarget;if(l.getBoundingClientRect().top+l.clientHeight>s&&l.getBoundingClientRect().top<s+m){l.classList.add("clicked"),c[parseInt(l.dataset.column)-1].style.animation="none",console.log(l.clientHeight),c[parseInt(l.dataset.column)-1].style.animation="peeling 0.4s ease";const a=document.createElement("div");a.textContent="+10",a.className="scoreIncrementIndicator",e.current.append(a),a.style.top=t.changedTouches[0].clientY-a.clientHeight/2+"px",a.style.left=t.changedTouches[0].clientX-a.clientWidth/2+"px",setTimeout((()=>{const e=Math.random()<.5?1:-1;a.style.transform="translateY(-"+(100+i(0,50))+"%) scale("+(1+i(0,50)/100)+") rotate("+e*Math.floor(45*Math.random())+"deg)",a.style.opacity="0"}),0);const s=document.createElement("img");s.src="https://devlak2001.s3.eu-central-1.amazonaws.com/potatoPeeler/fries.png",s.className="friesIncrementIndicator",e.current.append(s),function(e,t,n,l,a,r){const c=i(0,window.innerWidth),s=i(n,a),m=Date.now();function o(){const i=Date.now()-m,d=Math.min(i/r,1),p=u(t,c,l,d),E=u(n,s,a,d);e.style.top=E+"px",e.style.left=p+"px",d<1&&requestAnimationFrame(o)}function u(e,t,n,l){return Math.pow(1-l,2)*e+2*(1-l)*l*t+Math.pow(l,2)*n}o()}(s,t.changedTouches[0].clientX-a.clientWidth/2,t.changedTouches[0].clientY-a.clientHeight/2,r.getBoundingClientRect().left,r.getBoundingClientRect().top,1e3),s.onanimationend=t=>{"friesIncrementIndicatorPulse"===t.animationName&&(e.current.removeChild(s),e.current.removeChild(a))},s.onanimationstart=e=>{"friesIncrementIndicatorPulse"===e.animationName&&n((e=>(Number(e)+10).toString().padStart(4,"0")))}}}document.addEventListener("gesturestart",(function(e){e.preventDefault()})),function(e,t,n){const a=n/10,r=(t-e)/a;let c=0;const s=setInterval((()=>{l+=r,c++,c>=a&&clearInterval(s)}),10)}(l,2500,3e4),o(0),requestAnimationFrame((function n(a){void 0===t&&(t=a);const r=a-t,c=e.current.querySelectorAll(".potatoRow");c[c.length-1].offsetTop>0&&o(r),c[0].offsetTop>window.innerHeight&&e.current.removeChild(c[0]),c.forEach((e=>{const t=(r-e.dataset.elapsedTime)/l;t<1&&(e.style.bottom=window.innerHeight-(window.innerHeight+window.innerWidth/3)*t+"px")})),requestAnimationFrame(n)}))}),[n]),l.createElement("div",{className:"potatoGame",ref:e},l.createElement("div",{className:"score"},l.createElement("img",{src:"https://devlak2001.s3.eu-central-1.amazonaws.com/potatoPeeler/fries.png"}),l.createElement("div",{className:"digitsWrapper"},l.createElement("div",{className:"digits",style:{transform:"translateY(calc(-"+Number(t[0])+" * 11.4vw))"}},l.createElement("div",null,l.createElement("span",null,"0")),l.createElement("div",null,l.createElement("span",null,"1")),l.createElement("div",null,l.createElement("span",null,"2")),l.createElement("div",null,l.createElement("span",null,"3")),l.createElement("div",null,l.createElement("span",null,"4")),l.createElement("div",null,l.createElement("span",null,"5")),l.createElement("div",null,l.createElement("span",null,"6")),l.createElement("div",null,l.createElement("span",null,"7")),l.createElement("div",null,l.createElement("span",null,"8")),l.createElement("div",null,l.createElement("span",null,"9"))),l.createElement("div",{className:"digits",style:{transform:"translateY(calc(-"+Number(t[1])+" * 11.4vw))"}},l.createElement("div",null,l.createElement("span",null,"0")),l.createElement("div",null,l.createElement("span",null,"1")),l.createElement("div",null,l.createElement("span",null,"2")),l.createElement("div",null,l.createElement("span",null,"3")),l.createElement("div",null,l.createElement("span",null,"4")),l.createElement("div",null,l.createElement("span",null,"5")),l.createElement("div",null,l.createElement("span",null,"6")),l.createElement("div",null,l.createElement("span",null,"7")),l.createElement("div",null,l.createElement("span",null,"8")),l.createElement("div",null,l.createElement("span",null,"9"))),l.createElement("div",{className:"digits",style:{transform:"translateY(calc(-"+Number(t[2])+" * 11.4vw))"}},l.createElement("div",null,l.createElement("span",null,"0")),l.createElement("div",null,l.createElement("span",null,"1")),l.createElement("div",null,l.createElement("span",null,"2")),l.createElement("div",null,l.createElement("span",null,"3")),l.createElement("div",null,l.createElement("span",null,"4")),l.createElement("div",null,l.createElement("span",null,"5")),l.createElement("div",null,l.createElement("span",null,"6")),l.createElement("div",null,l.createElement("span",null,"7")),l.createElement("div",null,l.createElement("span",null,"8")),l.createElement("div",null,l.createElement("span",null,"9"))),l.createElement("div",{className:"digits",style:{transform:"translateY(calc(-"+Number(t[3])+" * 11.4vw))"}},l.createElement("div",null,l.createElement("span",null,"0")),l.createElement("div",null,l.createElement("span",null,"1")),l.createElement("div",null,l.createElement("span",null,"2")),l.createElement("div",null,l.createElement("span",null,"3")),l.createElement("div",null,l.createElement("span",null,"4")),l.createElement("div",null,l.createElement("span",null,"5")),l.createElement("div",null,l.createElement("span",null,"6")),l.createElement("div",null,l.createElement("span",null,"7")),l.createElement("div",null,l.createElement("span",null,"8")),l.createElement("div",null,l.createElement("span",null,"9"))))),l.createElement("div",{className:"peelers"},l.createElement("div",null),l.createElement("div",null),l.createElement("div",null)))};const a=()=>l.createElement(l.Fragment,null,l.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),l.createElement("link",{rel:"preload",as:"image",href:"https://devlak2001.s3.eu-central-1.amazonaws.com/potatoPeeler/potato.png"}),l.createElement("link",{rel:"preload",as:"image",href:"https://devlak2001.s3.eu-central-1.amazonaws.com/potatoPeeler/fries.png"}),l.createElement("title",null,"Home Page"))}}]);
//# sourceMappingURL=component---src-pages-index-js-c43a2813f97144e43fac.js.map
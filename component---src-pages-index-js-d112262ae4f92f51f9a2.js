"use strict";(self.webpackChunkpotato_peeler=self.webpackChunkpotato_peeler||[]).push([[678],{6558:function(e,t,n){n.r(t),n.d(t,{Head:function(){return a}});var l=n(7294);t.default=()=>{const e=(0,l.useRef)(null),{0:t,1:n}=(0,l.useState)("0000");return(0,l.useEffect)((()=>{let t,l=500;const a=e.current.querySelector(".score img"),r=e.current.querySelectorAll(".peelers div");console.log(r[0]);const c=e.current.querySelector(".peelers").offsetTop,s=e.current.querySelector(".peelers").clientHeight;let m=.1;function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function u(t){const n=document.createElement("div");n.dataset.elapsedTime=t.toString(),n.className="potatoRow",n.style.bottom=window.innerHeight+"px";const a=Math.random()<.5?1:2,r=[1,2,3];for(let e=0;e<a&&l>0;e++){const e=Math.floor(Math.random()*r.length),t=document.createElement("img");t.src="https://devlak2001.s3.eu-central-1.amazonaws.com/potatoPeeler/potato.png",t.style.gridColumn=""+r[e],t.dataset.peelable="false",t.dataset.column=""+r[e],t.ontouchstart=o,n.append(t),l--,r.splice(e,1)}e.current.append(n)}function o(t){const l=t.currentTarget;if(l.getBoundingClientRect().top+l.clientHeight>c&&l.getBoundingClientRect().top<c+s){l.classList.add("clicked"),n((e=>(Number(e)+10).toString().padStart(4,"0"))),r[parseInt(l.dataset.column)-1].style.animation="none",console.log(l.clientHeight),r[parseInt(l.dataset.column)-1].style.animation="peeling 0.4s ease";const c=document.createElement("div");c.textContent="+10",c.className="scoreIncrementIndicator",e.current.append(c),c.style.top=t.changedTouches[0].clientY-c.clientHeight/2+"px",c.style.left=t.changedTouches[0].clientX-c.clientWidth/2+"px",setTimeout((()=>{const e=Math.random()<.5?1:-1;c.style.transform="translateY(-"+(100+i(0,50))+"%) scale("+(1+i(0,50)/100)+") rotate("+e*Math.floor(45*Math.random())+"deg)",c.style.opacity="0"}),0);const s=document.createElement("img");s.src="https://devlak2001.s3.eu-central-1.amazonaws.com/potatoPeeler/fries.png",s.className="friesIncrementIndicator",e.current.append(s),function(e,t,n,l,a,r){const c=i(0,window.innerWidth),s=i(n,a),m=Date.now();function u(){const i=Date.now()-m,d=Math.min(i/r,1),E=o(t,c,l,d),p=o(n,s,a,d);e.style.top=p+"px",e.style.left=E+"px",d<1&&requestAnimationFrame(u)}function o(e,t,n,l){return Math.pow(1-l,2)*e+2*(1-l)*l*t+Math.pow(l,2)*n}u()}(s,t.changedTouches[0].clientX-c.clientWidth/2,t.changedTouches[0].clientY-c.clientHeight/2,a.getBoundingClientRect().left,a.getBoundingClientRect().top,1e3),s.onanimationend=t=>{"friesIncrementIndicatorPulse"===t.animationName&&(e.current.removeChild(s),e.current.removeChild(c))}}}document.addEventListener("gesturestart",(function(e){e.preventDefault()})),u(0),requestAnimationFrame((function n(l){void 0===t&&(t=l);const a=l-t,r=e.current.querySelectorAll(".potatoRow");r[r.length-1].offsetTop>0&&u(a),m<.3&&(m=.1+a/1e5),r[0].offsetTop>window.innerHeight&&e.current.removeChild(r[0]),r.forEach((e=>{e.style.bottom=window.innerHeight-(a-e.dataset.elapsedTime)*m+"px"})),requestAnimationFrame(n)}))}),[n]),l.createElement("div",{className:"potatoGame",ref:e},l.createElement("div",{className:"score"},l.createElement("img",{src:"https://devlak2001.s3.eu-central-1.amazonaws.com/potatoPeeler/fries.png"}),l.createElement("div",{className:"digitsWrapper"},l.createElement("div",{className:"digits",style:{transform:"translateY(calc(-"+Number(t[0])+" * 11.4vw))"}},l.createElement("div",null,l.createElement("span",null,"0")),l.createElement("div",null,l.createElement("span",null,"1")),l.createElement("div",null,l.createElement("span",null,"2")),l.createElement("div",null,l.createElement("span",null,"3")),l.createElement("div",null,l.createElement("span",null,"4")),l.createElement("div",null,l.createElement("span",null,"5")),l.createElement("div",null,l.createElement("span",null,"6")),l.createElement("div",null,l.createElement("span",null,"7")),l.createElement("div",null,l.createElement("span",null,"8")),l.createElement("div",null,l.createElement("span",null,"9"))),l.createElement("div",{className:"digits",style:{transform:"translateY(calc(-"+Number(t[1])+" * 11.4vw))"}},l.createElement("div",null,l.createElement("span",null,"0")),l.createElement("div",null,l.createElement("span",null,"1")),l.createElement("div",null,l.createElement("span",null,"2")),l.createElement("div",null,l.createElement("span",null,"3")),l.createElement("div",null,l.createElement("span",null,"4")),l.createElement("div",null,l.createElement("span",null,"5")),l.createElement("div",null,l.createElement("span",null,"6")),l.createElement("div",null,l.createElement("span",null,"7")),l.createElement("div",null,l.createElement("span",null,"8")),l.createElement("div",null,l.createElement("span",null,"9"))),l.createElement("div",{className:"digits",style:{transform:"translateY(calc(-"+Number(t[2])+" * 11.4vw))"}},l.createElement("div",null,l.createElement("span",null,"0")),l.createElement("div",null,l.createElement("span",null,"1")),l.createElement("div",null,l.createElement("span",null,"2")),l.createElement("div",null,l.createElement("span",null,"3")),l.createElement("div",null,l.createElement("span",null,"4")),l.createElement("div",null,l.createElement("span",null,"5")),l.createElement("div",null,l.createElement("span",null,"6")),l.createElement("div",null,l.createElement("span",null,"7")),l.createElement("div",null,l.createElement("span",null,"8")),l.createElement("div",null,l.createElement("span",null,"9"))),l.createElement("div",{className:"digits",style:{transform:"translateY(calc(-"+Number(t[3])+" * 11.4vw))"}},l.createElement("div",null,l.createElement("span",null,"0")),l.createElement("div",null,l.createElement("span",null,"1")),l.createElement("div",null,l.createElement("span",null,"2")),l.createElement("div",null,l.createElement("span",null,"3")),l.createElement("div",null,l.createElement("span",null,"4")),l.createElement("div",null,l.createElement("span",null,"5")),l.createElement("div",null,l.createElement("span",null,"6")),l.createElement("div",null,l.createElement("span",null,"7")),l.createElement("div",null,l.createElement("span",null,"8")),l.createElement("div",null,l.createElement("span",null,"9"))))),l.createElement("div",{className:"peelers"},l.createElement("div",null),l.createElement("div",null),l.createElement("div",null)))};const a=()=>l.createElement(l.Fragment,null,l.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),l.createElement("title",null,"Home Page"))}}]);
//# sourceMappingURL=component---src-pages-index-js-d112262ae4f92f51f9a2.js.map